!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.timer=function(t,i){var n,r={play:!0,initTime:60,max:999999,min:0},o=e(t),a={},u=0,c={},m=0,f="timer";e.data(t,"timer",o),c={init:function(t){a=e.extend({},r,t),u=parseInt(a.initTime),n=a.play?"playing":"paused",c.setup(),o.trigger(f+".start")},setup:function(){m=setInterval(function(){return!c.checkTimeout()&&void("playing"==n&&(c.changeTime(-1),c.render()))},1e3)},checkTimeout:function(){return u<=0&&(clearInterval(m),o.trigger(f+".timeout"),n="finished",!0)},changeTime:function(e){u+=parseInt(e),c.setTime(u)},setTime:function(e){e=e>a.max?a.max:e<a.min?a.min:e,o.trigger(f+".change"),c.render()},render:function(){o.text(u)}},timer=o.methods={addTime:function(e){"finished"!=n&&c.changeTime(e)},pause:function(){n="paused"},play:function(){n="playing"},getState:function(){return n},getTime:function(){return u}},c.init(i)},e.fn.timer=function(t){return void 0===t&&(t={}),"object"==typeof t?this.each(function(i,n){new e.timer(n,t)}):this.data("timer").methods[t]?this.data("timer").methods[t].apply(this,Array.prototype.slice.call(arguments,1)):void e.error("Method "+t+" does not exist on jQuery.timer")}});